<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AccNotes - Übersicht aller Barrierefreiheits-Notizen">
    <title>Notizen-Übersicht - AccNotes</title>
    <link rel="stylesheet" href="styles/modern-theme.css">
</head>
<body>
    <!-- Skip link for screen reader users -->
    <a href="#main-content" class="skip-link">Zum Hauptinhalt springen</a>

    <!-- Theme Toggle -->
    <button class="theme-toggle" aria-label="Zwischen hellem und dunklem Design wechseln" title="Design wechseln" id="theme-toggle">
        <span aria-hidden="true">🌓</span>
    </button>

    <main id="main-content" class="container">
        <header>
            <h1>📋 Barrierefreiheits-Notizen Übersicht</h1>
        </header>

        <!-- Statistics Section -->
        <section aria-labelledby="stats-title">
            <h2 id="stats-title" class="sr-only">Statistiken</h2>
            <div class="stats" role="region" aria-label="Notizen-Statistiken">
                <div class="stat">
                    <div class="stat__number" id="total-notes" aria-label="Anzahl Notizen gesamt">0</div>
                    <div class="stat__label">Gesamt</div>
                </div>
                <div class="stat">
                    <div class="stat__number" id="notes-today" aria-label="Anzahl Notizen heute">0</div>
                    <div class="stat__label">Heute</div>
                </div>
                <div class="stat">
                    <div class="stat__number" id="unique-pages" aria-label="Anzahl eindeutige Seiten">0</div>
                    <div class="stat__label">Seiten</div>
                </div>
            </div>
        </section>

        <!-- Export Section -->
        <section class="info-panel" aria-labelledby="export-title">
            <h2 id="export-title" class="info-panel__title">📥 Export & Verwaltung</h2>
            <div class="controls">
                <div class="controls__group">
                    <button type="button" onclick="exportAllNotes()" class="btn btn--secondary">
                        <span aria-hidden="true">📦</span>
                        Als ZIP exportieren
                    </button>
                    <button type="button" onclick="exportNotesAsCSV()" class="btn btn--secondary">
                        <span aria-hidden="true">📊</span>
                        Als CSV exportieren
                    </button>
                </div>
                <div class="controls__group">
                    <button type="button" onclick="clearAllNotes()" class="btn btn--danger"
                            aria-describedby="clear-help">
                        <span aria-hidden="true">🗑️</span>
                        Alle löschen
                    </button>
                    <div id="clear-help" class="sr-only">Löscht alle gespeicherten Notizen unwiderruflich</div>
                </div>
            </div>
        </section>

        <!-- Filter and Sort Controls -->
        <section aria-labelledby="filter-title">
            <h2 id="filter-title" class="sr-only">Filter und Sortierung</h2>
            <div class="controls">
                <div class="controls__group">
                    <button type="button" onclick="refreshNotes()" class="btn btn--secondary">
                        <span aria-hidden="true">🔄</span>
                        Aktualisieren
                    </button>

                    <label for="sort-select" class="form-label">Sortierung:</label>
                    <select id="sort-select" onchange="sortNotes()" class="form-select" style="width: auto;">
                        <option value="newest">Neueste zuerst</option>
                        <option value="oldest">Älteste zuerst</option>
                        <option value="page">Nach Seite</option>
                    </select>
                </div>

                <div class="controls__group">
                    <label for="search-input" class="form-label">Suche:</label>
                    <input type="search"
                           id="search-input"
                           class="form-input"
                           style="width: 300px;"
                           placeholder="Notizen durchsuchen..."
                           onkeyup="filterNotes()"
                           aria-describedby="search-help">
                    <div id="search-help" class="sr-only">Durchsucht Titel, URL und Inhalt der Notizen</div>
                </div>
            </div>
        </section>

        <!-- Notes List -->
        <section aria-labelledby="notes-title">
            <h2 id="notes-title" class="sr-only">Notizen-Liste</h2>
            <div id="notes-container" role="region" aria-live="polite" aria-label="Notizen-Liste">
                <div class="no-notes">
                    <p>📝 Keine Notizen gefunden.</p>
                    <p>Erstellen Sie Ihre erste Notiz über das Kontextmenü!</p>
                </div>
            </div>
        </section>
    </main>

    <script src="scripts/theme-toggle.js"></script>
    <script src="notes-overview.js"></script>
</body>
</html>